<!DOCTYPE html>
<html lang="da">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Praktikm√•l Tracker</title>
    <script type="module" crossorigin src="/assets/main-Dp-NN2Wg.js"></script>
    <link rel="modulepreload" crossorigin href="/assets/supabase-BE_bEftw.js">
    <link rel="stylesheet" crossorigin href="/assets/supabase-E5rte327.css">
    <link rel="stylesheet" crossorigin href="/assets/main-ZptqHmrv.css">
  </head>
  <body>
    <div id="auth-view" class="auth-container">
      <button id="supervisor-login-btn" class="supervisor-login-btn" type="button" title="Vejleder login">
        üë§
      </button>

      <div class="auth-card">
        <h1>Praktikm√•l Tracker</h1>
        <p>Log ind for at se dine praktikm√•l</p>

        <div id="auth-error" class="auth-error"></div>

        <form id="auth-form" class="auth-form">
          <label class="field">
            <span>Email</span>
            <input
              type="email"
              id="auth-email"
              name="email"
              required
              placeholder="din@email.dk"
              autocomplete="email"
            />
          </label>

          <label class="field">
            <span>Adgangskode</span>
            <input
              type="password"
              id="auth-password"
              name="password"
              required
              placeholder="Min. 6 tegn"
              minlength="6"
              autocomplete="current-password"
            />
          </label>

          <button type="submit" class="primary-button" id="auth-submit">
            Log ind
          </button>
        </form>

        <div class="auth-toggle">
          <span id="auth-toggle-text">Har du ikke en konto?</span>
          <button type="button" id="auth-toggle-btn">Opret konto</button>
        </div>

        <div class="auth-forgot">
          <button type="button" id="forgot-password-btn">Glemt adgangskode?</button>
        </div>
      </div>
    </div>

    <dialog id="supervisor-modal" class="modal">
      <button id="close-supervisor-modal" class="modal__close-corner" type="button" title="Luk">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
      <div class="modal__content">
        <div class="modal__header">
          <h2>Vejleder Login</h2>
        </div>
        <div id="supervisor-error" class="auth-error"></div>
        <form id="supervisor-form" class="auth-form">
          <label class="field">
            <span>Vejlederkode</span>
            <input
              type="password"
              id="supervisor-code"
              name="code"
              required
              placeholder="Indtast vejlederkode"
              autocomplete="off"
            />
          </label>
          <button type="submit" class="primary-button">
            Log ind som vejleder
          </button>
        </form>
      </div>
    </dialog>

    <div id="reset-password-view" class="auth-container" style="display: none;">
      <div class="auth-card">
        <h1>Nulstil adgangskode</h1>
        <p>Indtast din nye adgangskode</p>

        <div id="reset-error" class="auth-error"></div>

        <form id="reset-password-form" class="auth-form">
          <label class="field">
            <span>Ny adgangskode</span>
            <input
              type="password"
              id="reset-password"
              name="password"
              required
              placeholder="Min. 6 tegn"
              minlength="6"
              autocomplete="new-password"
            />
          </label>

          <label class="field">
            <span>Bekr√¶ft adgangskode</span>
            <input
              type="password"
              id="reset-password-confirm"
              name="password-confirm"
              required
              placeholder="Min. 6 tegn"
              minlength="6"
              autocomplete="new-password"
            />
          </label>

          <button type="submit" class="primary-button" id="reset-submit">
            Opdater adgangskode
          </button>
        </form>
      </div>
    </div>

    <div id="app-view" class="app-shell" style="display: none;">
      <header class="app-header">
        <div>
          <h1>Praktikm√•l Tracker</h1>
          <p>Hold overblik over m√•l, status og refleksioner.</p>
        </div>
        <div id="user-info" class="user-info">
          <button id="logout-btn" class="ghost-button user-info__logout" type="button">
            Log ud
          </button>
        </div>
      </header>


      <main class="app-main">
        <details class="card card--form" id="goal-form-container">
          <summary class="form-toggle">
            <h2>Nyt praktikm√•l</h2>
            <span class="form-toggle-icon">‚ñº</span>
          </summary>
          <form id="goal-form" class="form-content">
          <label class="field">
            <span>Titel</span>
            <input
              type="text"
              id="goal-title"
              name="title"
              required
              maxlength="120"
              placeholder="Fx Kundebetjening i skranken"
            />
          </label>

          <label class="field">
            <span>M√•l</span>
            <textarea
              id="goal-description"
              name="description"
              rows="3"
              placeholder="Kort beskrivelse af hvad der skal opn√•s"
            ></textarea>
          </label>

          <label class="field field--color">
            <span>Fanefarve</span>
            <div
              class="color-picker"
              role="radiogroup"
              aria-label="V√¶lg fanefarve"
            >
              <label class="color-swatch" title="Gr√∏n">
                <input
                  type="radio"
                  name="color"
                  value="#66BB6A"
                  checked
                />
                <span
                  class="color-swatch__chip"
                  style="--swatch-color: #66BB6A"
                >
                  <span class="visually-hidden">Gr√∏n</span>
                </span>
              </label>
              <label class="color-swatch" title="R√∏d">
                <input type="radio" name="color" value="#EF5350" />
                <span
                  class="color-swatch__chip"
                  style="--swatch-color: #EF5350"
                >
                  <span class="visually-hidden">R√∏d</span>
                </span>
              </label>
              <label class="color-swatch" title="Orange">
                <input type="radio" name="color" value="#FF7043" />
                <span
                  class="color-swatch__chip"
                  style="--swatch-color: #FF7043"
                >
                  <span class="visually-hidden">Orange</span>
                </span>
              </label>
              <label class="color-swatch" title="Gul">
                <input type="radio" name="color" value="#FFCA28" />
                <span
                  class="color-swatch__chip"
                  style="--swatch-color: #FFCA28"
                >
                  <span class="visually-hidden">Gul</span>
                </span>
              </label>
              <label class="color-swatch" title="Bl√•">
                <input type="radio" name="color" value="#42A5F5" />
                <span
                  class="color-swatch__chip"
                  style="--swatch-color: #42A5F5"
                >
                  <span class="visually-hidden">Bl√•</span>
                </span>
              </label>
              <label class="color-swatch" title="Lilla">
                <input type="radio" name="color" value="#AB47BC" />
                <span
                  class="color-swatch__chip"
                  style="--swatch-color: #AB47BC"
                >
                  <span class="visually-hidden">Lilla</span>
                </span>
              </label>
            </div>
          </label>

          <label class="field">
            <span>Praktikm√•l (PDF)</span>
            <input type="file" id="goal-file" name="file" accept="application/pdf" />
            <small>
              Filen gemmes lokalt i din browser. Store filer kan p√•virke ydeevnen.
            </small>
          </label>

            <button type="submit" class="primary-button">
              Tilf√∏j praktikm√•l
            </button>
          </form>
        </details>

        <section class="card-list" id="goal-list">
          <header class="card-list__header">
            <h2>Dine praktikm√•l</h2>
          </header>
          <nav class="binder-tabs" id="binder-tabs" role="tablist" aria-label="Praktikm√•l">
          </nav>
          <p class="empty-state">Ingen m√•l endnu. Tilf√∏j det f√∏rste i formularen.</p>
        </section>
      </main>
    </div>

    <template id="goal-template">
      <article class="card card--goal">
        <div class="goal-header">
          <div>
            <h3 class="goal-title"></h3>
            <p class="goal-description"></p>
          </div>
        </div>

        <div class="goal-body">
          <div class="progress-container">
            <label class="progress-label">
              <span class="progress-label-text">Fremskridt</span>
              <span class="progress-percentage">0%</span>
            </label>
            <input
              type="range"
              class="progress-slider"
              min="0"
              max="100"
              value="0"
              aria-label="Fremskridt i procent"
            />
          </div>

          <label class="field field--reflection">
            <span>Refleksion</span>
            <textarea rows="4" placeholder="Not√©r l√¶ring, aftaler og n√¶ste skridt"></textarea>
          </label>

          <div class="goal-file">
            <span class="goal-file__label">Vedh√¶ftet praktikm√•l:</span>
            <a class="goal-file__link" href="#" target="_blank" rel="noopener">Vis PDF</a>
            <button type="button" class="remove-file-btn" aria-label="Fjern fil" title="Fjern fil">
              √ó
            </button>
          </div>
          <p class="goal-file goal-file--missing">
            Ingen fil vedh√¶ftet. Upload via rediger-knappen.
          </p>
        </div>

        <footer class="goal-footer">
          <button type="button" class="ghost-button edit-goal">Rediger</button>
          <button type="button" class="ghost-button ghost-button--danger delete-goal">
            Slet
          </button>
        </footer>
      </article>
    </template>

    <dialog id="goal-editor" class="modal">
      <form method="dialog" class="modal__content">
        <header class="modal__header">
          <h2>Rediger praktikm√•l</h2>
          <button type="button" class="ghost-button modal__close">Luk</button>
        </header>
        <label class="field">
          <span>Titel</span>
          <input type="text" name="edit-title" required maxlength="120" />
        </label>
        <label class="field">
          <span>M√•l</span>
          <textarea name="edit-description" rows="3"></textarea>
        </label>
        <label class="field field--color">
          <span>Fanefarve</span>
          <div
            class="color-picker"
            role="radiogroup"
            aria-label="V√¶lg fanefarve"
          >
            <label class="color-swatch" title="Gr√∏n">
              <input
                type="radio"
                name="edit-color"
                value="#66BB6A"
                checked
              />
              <span
                class="color-swatch__chip"
                style="--swatch-color: #66BB6A"
              >
                <span class="visually-hidden">Gr√∏n</span>
              </span>
            </label>
            <label class="color-swatch" title="R√∏d">
              <input type="radio" name="edit-color" value="#EF5350" />
              <span
                class="color-swatch__chip"
                style="--swatch-color: #EF5350"
              >
                <span class="visually-hidden">R√∏d</span>
              </span>
            </label>
            <label class="color-swatch" title="Orange">
              <input type="radio" name="edit-color" value="#FF7043" />
              <span
                class="color-swatch__chip"
                style="--swatch-color: #FF7043"
              >
                <span class="visually-hidden">Orange</span>
              </span>
            </label>
            <label class="color-swatch" title="Gul">
              <input type="radio" name="edit-color" value="#FFCA28" />
              <span class="color-swatch__chip" style="--swatch-color: #FFCA28">
                <span class="visually-hidden">Gul</span>
              </span>
            </label>
            <label class="color-swatch" title="Bl√•">
              <input type="radio" name="edit-color" value="#42A5F5" />
              <span
                class="color-swatch__chip"
                style="--swatch-color: #42A5F5"
              >
                <span class="visually-hidden">Bl√•</span>
              </span>
            </label>
            <label class="color-swatch" title="Lilla">
              <input type="radio" name="edit-color" value="#AB47BC" />
              <span
                class="color-swatch__chip"
                style="--swatch-color: #AB47BC"
              >
                <span class="visually-hidden">Lilla</span>
              </span>
            </label>
          </div>
        </label>
        <div class="progress-container">
          <label class="progress-label">
            <span class="progress-label-text">Fremskridt</span>
            <span class="progress-percentage-edit">0%</span>
          </label>
          <input
            type="range"
            class="progress-slider"
            name="edit-progress"
            min="0"
            max="100"
            value="0"
            aria-label="Fremskridt i procent"
          />
        </div>
        <label class="field">
          <span>Opdater PDF</span>
          <input type="file" name="edit-file" accept="application/pdf" />
        </label>
        <footer class="modal__footer">
          <button type="submit" class="primary-button">Gem √¶ndringer</button>
        </footer>
      </form>
    </dialog>

    <dialog id="change-password-modal" class="modal">
      <form method="dialog" class="modal__content" id="change-password-form">
        <header class="modal__header">
          <h2>Skift adgangskode</h2>
          <button type="button" class="ghost-button modal__close" id="change-password-close">Luk</button>
        </header>

        <div id="change-password-error" class="auth-error"></div>

        <label class="field">
          <span>Nuv√¶rende adgangskode</span>
          <input
            type="password"
            id="current-password"
            name="current-password"
            required
            placeholder="Indtast nuv√¶rende adgangskode"
            minlength="6"
            autocomplete="current-password"
          />
        </label>

        <label class="field">
          <span>Ny adgangskode</span>
          <input
            type="password"
            id="new-password"
            name="new-password"
            required
            placeholder="Min. 6 tegn"
            minlength="6"
            autocomplete="new-password"
          />
        </label>

        <label class="field">
          <span>Bekr√¶ft ny adgangskode</span>
          <input
            type="password"
            id="confirm-new-password"
            name="confirm-new-password"
            required
            placeholder="Min. 6 tegn"
            minlength="6"
            autocomplete="new-password"
          />
        </label>

        <footer class="modal__footer">
          <button type="submit" class="primary-button" id="change-password-submit">Skift adgangskode</button>
        </footer>
      </form>
    </dialog>

  </body>
</html>
