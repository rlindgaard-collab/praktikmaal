import{s as u}from"./supabase-hXCdEN8T.js";async function H(t,r){const{data:o,error:n}=await u.auth.signUp({email:t,password:r});return{data:o,error:n}}async function D(t,r){const{data:o,error:n}=await u.auth.signInWithPassword({email:t,password:r});return{data:o,error:n}}async function se(){const{error:t}=await u.auth.signOut();return{error:t}}async function ie(){const{data:{user:t},error:r}=await u.auth.getUser();return{user:t,error:r}}function ae(t){const{data:{subscription:r}}=u.auth.onAuthStateChange((o,n)=>{(async()=>await t(o,n))()});return r}async function le(t){const{data:r,error:o}=await u.auth.resetPasswordForEmail(t,{redirectTo:window.location.origin});return{data:r,error:o}}async function W(t){const{data:r,error:o}=await u.auth.updateUser({password:t});return{data:r,error:o}}async function de(t){const{data:r,error:o}=await u.from("supervisor_codes").select("*").eq("code",t).maybeSingle();return{isValid:!!r&&!o,error:o}}async function ce(t){const r=new Date;r.setHours(r.getHours()+8);const{data:o,error:n}=await u.from("supervisor_sessions").upsert({user_id:t,expires_at:r.toISOString()},{onConflict:"user_id"}).select().single();return{data:o,error:n}}async function ue(){const{data:t,error:r}=await u.from("goals").select("*").order("created_at",{ascending:!1});return r?(console.error("Error loading goals:",r),[]):t.map(o=>({id:o.id,title:o.title,description:o.description,progress:o.progress!==void 0?o.progress:0,reflection:o.reflection,pdf:o.pdf_data?{name:o.pdf_name,size:o.pdf_size,type:o.pdf_type,dataUrl:o.pdf_data}:null,color:o.color,createdAt:o.created_at,updatedAt:o.updated_at}))}async function fe(t){var i,l,a,f;const{data:{user:r}}=await u.auth.getUser();if(!r)throw new Error("User not authenticated");const o={user_id:r.id,title:t.title,description:t.description||"",progress:t.progress!==void 0?t.progress:0,reflection:"",pdf_name:((i=t.pdf)==null?void 0:i.name)||null,pdf_data:((l=t.pdf)==null?void 0:l.dataUrl)||null,pdf_size:((a=t.pdf)==null?void 0:a.size)||null,pdf_type:((f=t.pdf)==null?void 0:f.type)||null,color:t.color||"#66BB6A"},{data:n,error:s}=await u.from("goals").insert(o).select().single();if(s)throw console.error("Error creating goal:",s),s;return{id:n.id,title:n.title,description:n.description,progress:n.progress!==void 0?n.progress:0,reflection:n.reflection,pdf:n.pdf_data?{name:n.pdf_name,size:n.pdf_size,type:n.pdf_type,dataUrl:n.pdf_data}:null,color:n.color,createdAt:n.created_at,updatedAt:n.updated_at}}async function ge(t,r){const o={};r.title!==void 0&&(o.title=r.title),r.description!==void 0&&(o.description=r.description),r.progress!==void 0&&(o.progress=r.progress),r.reflection!==void 0&&(o.reflection=r.reflection),r.color!==void 0&&(o.color=r.color),r.pdf!==void 0&&(r.pdf===null?(o.pdf_name=null,o.pdf_data=null,o.pdf_size=null,o.pdf_type=null):(o.pdf_name=r.pdf.name,o.pdf_data=r.pdf.dataUrl,o.pdf_size=r.pdf.size,o.pdf_type=r.pdf.type)),o.updated_at=new Date().toISOString();const{data:n,error:s}=await u.from("goals").update(o).eq("id",t).select().single();if(s)throw console.error("Error updating goal:",s),s;return{id:n.id,title:n.title,description:n.description,progress:n.progress!==void 0?n.progress:0,reflection:n.reflection,pdf:n.pdf_data?{name:n.pdf_name,size:n.pdf_size,type:n.pdf_type,dataUrl:n.pdf_data}:null,color:n.color,createdAt:n.created_at,updatedAt:n.updated_at}}async function pe(t){const{error:r}=await u.from("goals").delete().eq("id",t);if(r)throw console.error("Error deleting goal:",r),r}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>console.log("SW registered:",t.scope)).catch(t=>console.log("SW registration failed:",t))});function me(t){return t<=25?"#EF5350":t<=75?"#FFCA28":"#4CAF50"}const V="#66BB6A";let d=[],_=null,c=null,E=null,B=!1,S=!1,$=null;const e={authView:document.getElementById("auth-view"),resetPasswordView:document.getElementById("reset-password-view"),appView:document.getElementById("app-view"),authForm:document.getElementById("auth-form"),authEmail:document.getElementById("auth-email"),authPassword:document.getElementById("auth-password"),authSubmit:document.getElementById("auth-submit"),authError:document.getElementById("auth-error"),authToggleBtn:document.getElementById("auth-toggle-btn"),authToggleText:document.getElementById("auth-toggle-text"),forgotPasswordBtn:document.getElementById("forgot-password-btn"),resetPasswordForm:document.getElementById("reset-password-form"),resetPassword:document.getElementById("reset-password"),resetPasswordConfirm:document.getElementById("reset-password-confirm"),resetSubmit:document.getElementById("reset-submit"),resetError:document.getElementById("reset-error"),logoutBtn:document.getElementById("logout-btn"),changePasswordModal:document.getElementById("change-password-modal"),changePasswordForm:document.getElementById("change-password-form"),changePasswordClose:document.getElementById("change-password-close"),currentPassword:document.getElementById("current-password"),newPassword:document.getElementById("new-password"),confirmNewPassword:document.getElementById("confirm-new-password"),changePasswordSubmit:document.getElementById("change-password-submit"),changePasswordError:document.getElementById("change-password-error"),goalForm:document.getElementById("goal-form"),goalTitle:document.getElementById("goal-title"),goalDescription:document.getElementById("goal-description"),goalFile:document.getElementById("goal-file"),goalList:document.getElementById("goal-list"),emptyState:document.querySelector(".empty-state"),goalTemplate:document.getElementById("goal-template"),goalEditor:document.getElementById("goal-editor"),binderTabs:document.getElementById("binder-tabs"),supervisorLoginBtn:document.getElementById("supervisor-login-btn"),supervisorModal:document.getElementById("supervisor-modal"),supervisorForm:document.getElementById("supervisor-form"),supervisorCode:document.getElementById("supervisor-code"),supervisorError:document.getElementById("supervisor-error"),closeSupervisorModal:document.getElementById("close-supervisor-modal")},w=e.goalEditor?e.goalEditor.querySelector("form"):null,p={title:w?w.querySelector('input[name="edit-title"]'):null,description:w?w.querySelector('textarea[name="edit-description"]'):null,file:w?w.querySelector('input[name="edit-file"]'):null,close:e.goalEditor?e.goalEditor.querySelector(".modal__close"):null};function m(t){e.authError.textContent=t,e.authError.classList.add("is-visible")}function G(){e.authError.classList.remove("is-visible")}function K(){B=!B,B?(e.authSubmit.textContent="Opret konto",e.authToggleText.textContent="Har du allerede en konto?",e.authToggleBtn.textContent="Log ind"):(e.authSubmit.textContent="Log ind",e.authToggleText.textContent="Har du ikke en konto?",e.authToggleBtn.textContent="Opret konto"),G()}async function we(t){t.preventDefault(),G();const r=e.authEmail.value.trim(),o=e.authPassword.value;if(!r||!o){m("Email og adgangskode er påkrævet");return}e.authSubmit.disabled=!0,e.authSubmit.textContent="Vent venligst...";try{if(B){const{error:n}=await H(r,o);n?n.message.includes("already registered")?m("Denne email er allerede registreret"):m(n.message||"Der opstod en fejl ved oprettelse af konto"):(Y("Konto oprettet! Logger ind..."),setTimeout(async()=>{const{error:s}=await D(r,o);s&&(m("Konto oprettet, men login fejlede. Prøv at logge ind manuelt."),K())},1e3))}else{const{error:n}=await D(r,o);n&&(n.message.includes("Invalid login credentials")?m("Forkert email eller adgangskode"):m(n.message||"Der opstod en fejl ved login"))}}catch(n){m("Der opstod en uventet fejl"),console.error("Auth error:",n)}finally{e.authSubmit.disabled=!1,e.authSubmit.textContent=B?"Opret konto":"Log ind"}}function Y(t){e.authError.textContent=t,e.authError.style.background="rgba(76, 175, 80, 0.15)",e.authError.style.borderColor="rgba(76, 175, 80, 0.4)",e.authError.style.color="#66BB6A",e.authError.classList.add("is-visible")}async function he(){const{error:t}=await se();t&&(alert("Der opstod en fejl ved logout"),console.error("Logout error:",t))}async function ye(){const t=e.authEmail.value.trim();if(!t){m("Indtast din email-adresse for at nulstille adgangskoden");return}e.forgotPasswordBtn.disabled=!0,e.forgotPasswordBtn.textContent="Sender...";try{const{error:r}=await le(t);r?(m("Der opstod en fejl. Prøv igen."),console.error("Password reset error:",r)):Y(`Nulstillingslink er sendt til ${t}`)}catch(r){m("Der opstod en uventet fejl"),console.error("Password reset error:",r)}finally{e.forgotPasswordBtn.disabled=!1,e.forgotPasswordBtn.textContent="Glemt adgangskode?"}}function k(t){e.resetError.textContent=t,e.resetError.classList.add("is-visible")}function J(){e.resetError.classList.remove("is-visible")}function ve(t){e.resetError.textContent=t,e.resetError.style.background="rgba(76, 175, 80, 0.15)",e.resetError.style.borderColor="rgba(76, 175, 80, 0.4)",e.resetError.style.color="#66BB6A",e.resetError.classList.add("is-visible")}function Q(){e.authView.style.display="flex",e.resetPasswordView.style.display="none",e.appView.style.display="none",e.authForm.reset(),G()}function M(){e.authView.style.display="none",e.resetPasswordView.style.display="flex",e.appView.style.display="none",e.resetPasswordForm.reset(),J()}function R(){e.authView.style.display="none",e.resetPasswordView.style.display="none",e.appView.style.display="block"}async function Ee(t){t.preventDefault(),J();const r=e.resetPassword.value,o=e.resetPasswordConfirm.value;if(!r||!o){k("Begge felter er påkrævet");return}if(r!==o){k("Adgangskoderne matcher ikke");return}if(r.length<6){k("Adgangskoden skal være mindst 6 tegn");return}e.resetSubmit.disabled=!0,e.resetSubmit.textContent="Opdaterer...";try{const{error:n}=await W(r);n?(k("Der opstod en fejl. Prøv igen."),console.error("Password update error:",n)):(ve("Adgangskode opdateret! Omdirigerer..."),S=!1,setTimeout(()=>{window.location.hash="",window.history.replaceState(null,"",window.location.pathname),R()},1500))}catch(n){k("Der opstod en uventet fejl"),console.error("Password update error:",n)}finally{e.resetSubmit.disabled=!1,e.resetSubmit.textContent="Opdater adgangskode"}}async function be(t,r){if(t==="PASSWORD_RECOVERY"){S=!0,M();return}if(r!=null&&r.user){if(S){M();return}E=r.user,window.location.hash&&window.history.replaceState(null,"",window.location.pathname),R(),await X()}else E=null,d=[],c=null,S=!1,Q()}async function X(){try{d=await ue(),b()}catch(t){console.error("Error loading goals:",t),alert("Der opstod en fejl ved indlæsning af dine mål")}}function Se(t){if(typeof t!="string")return"#0d0d0d";let r=t.trim().replace("#","");if(r.length===3&&(r=r.split("").map(a=>a+a).join("")),r.length!==6||Number.isNaN(Number.parseInt(r,16)))return"#0d0d0d";const o=Number.parseInt(r.substring(0,2),16)/255,n=Number.parseInt(r.substring(2,4),16)/255,s=Number.parseInt(r.substring(4,6),16)/255,i=a=>a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);return .2126*i(o)+.7152*i(n)+.0722*i(s)>.55?"#0d0d0d":"#f9f9f9"}function Z(t,r,o){if(!t)return o;const n=t.querySelector(`input[name="${r}"]:checked`);return n?n.value:o}function ee(t,r,o){if(!t)return;const n=t.querySelectorAll(`input[name="${r}"]`);if(!n.length)return;let s=!1;n.forEach(i=>{const l=o?i.value.toLowerCase()===o.toLowerCase():!1;i.checked=l,l&&(s=!0)}),s||(n[0].checked=!0)}async function Pe(t){try{const r=await fe(t);d=[r,...d],c=r.id,b()}catch(r){console.error("Error creating goal:",r),alert("Der opstod en fejl ved oprettelse af målet")}}async function A(t,r,o=!1){try{const n=await ge(t,r);d=d.map(s=>s.id===t?n:s),o||b()}catch(n){console.error("Error updating goal:",n),alert("Der opstod en fejl ved opdatering af målet")}}function ke(t,r){d=d.map(o=>o.id===t?{...o,reflection:r}:o),clearTimeout($),$=setTimeout(()=>{A(t,{reflection:r},!0)},500)}async function Ce(t){try{await pe(t),d=d.filter(r=>r.id!==t),t===c&&(c=d.length?d[0].id:null),b()}catch(r){console.error("Error deleting goal:",r),alert("Der opstod en fejl ved sletning af målet")}}function te(t){return new Promise((r,o)=>{const n=new FileReader;n.onload=()=>r({name:t.name,size:t.size,type:t.type,dataUrl:n.result}),n.onerror=()=>o(n.error),n.readAsDataURL(t)})}function x(t,r){const o=me(r);t.style.setProperty("--slider-fill-color",o),t.style.setProperty("--slider-fill-percent",`${r}%`);const n=t.parentElement.querySelector(".progress-percentage, .progress-percentage-edit");n&&(n.style.color=o)}function Be(t,r,o){o?(t.classList.remove("is-hidden"),t.querySelector(".goal-file__link").textContent=o.name,t.querySelector(".goal-file__link").href=o.dataUrl,r.classList.add("is-hidden")):(t.classList.add("is-hidden"),r.classList.remove("is-hidden"))}function b(){const t=e.goalList;if(t.querySelectorAll(".card--goal").forEach(g=>g.remove()),!d.length){e.emptyState&&(e.emptyState.textContent="Ingen mål endnu. Tilføj det første i formularen.",e.emptyState.style.display="block"),e.binderTabs&&(e.binderTabs.innerHTML="",e.binderTabs.classList.add("is-hidden")),c=null;return}(!c||!d.some(g=>g.id===c))&&(c=d[0].id),e.emptyState&&(e.emptyState.style.display="none"),Le(),e.binderTabs&&e.binderTabs.classList.remove("is-hidden");const o=d.find(g=>g.id===c);if(!o)return;const n=e.goalTemplate.content.cloneNode(!0),s=n.querySelector(".card--goal"),i=s.querySelector(".goal-title"),l=s.querySelector(".goal-description"),a=s.querySelector(".progress-slider"),f=s.querySelector(".progress-percentage"),h=s.querySelector(".field--reflection textarea"),L=s.querySelector(".goal-file"),y=s.querySelector(".goal-file--missing"),I=s.querySelector(".remove-file-btn"),re=s.querySelector(".edit-goal"),oe=s.querySelector(".delete-goal"),ne=`goal-panel-${o.id}`;s.id=ne,s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",`goal-tab-${o.id}`),i.textContent=o.title,l.textContent=o.description||"Ingen beskrivelse angivet.",h.value=o.reflection!==void 0&&o.reflection!==null?o.reflection:"";const F=o.progress!==void 0?o.progress:0;a.value=F,f.textContent=`${F}%`,x(a,F),Be(L,y,o.pdf),a.addEventListener("input",g=>{const P=parseInt(g.target.value);f.textContent=`${P}%`,x(a,P),d=d.map(T=>T.id===o.id?{...T,progress:P}:T)}),a.addEventListener("change",g=>{const P=parseInt(g.target.value);A(o.id,{progress:P},!0)}),h.addEventListener("input",g=>{ke(o.id,g.target.value)}),I.addEventListener("click",()=>{!o.pdf||!confirm("Fjern den vedhæftede fil?")||A(o.id,{pdf:null})}),re.addEventListener("click",()=>_e(o.id)),oe.addEventListener("click",()=>{confirm(`Er du sikker på, at du vil slette "${o.title}"?`)&&Ce(o.id)}),t.appendChild(n)}function Le(){e.binderTabs&&(e.binderTabs.innerHTML="",d.forEach(t=>{const r=document.createElement("button");r.type="button",r.className="binder-tabs__tab",r.dataset.goalId=t.id,r.setAttribute("role","tab"),r.setAttribute("aria-selected",t.id===c?"true":"false");const o=t.color||"#4caf50",n=Se(o);r.style.setProperty("--tab-color",o),r.style.setProperty("--tab-text-color",n),r.id=`goal-tab-${t.id}`,r.setAttribute("aria-controls",`goal-panel-${t.id}`);const s=document.createElement("span");s.className="binder-tabs__label",s.textContent=t.title,r.appendChild(s),t.id===c?(r.classList.add("is-active"),r.setAttribute("tabindex","0")):r.setAttribute("tabindex","-1"),r.addEventListener("click",()=>{c=t.id,b()}),r.addEventListener("keydown",i=>{if(i.key==="Enter"||i.key===" "){i.preventDefault(),c=t.id,b();return}if(i.key==="ArrowRight"||i.key==="ArrowLeft"){i.preventDefault();const l=Array.from(e.binderTabs.querySelectorAll(".binder-tabs__tab")),a=l.findIndex(y=>y.dataset.goalId===t.id);if(a===-1)return;const f=i.key==="ArrowRight"?1:-1,h=(a+f+l.length)%l.length,L=l[h].dataset.goalId;c=L,b(),window.requestAnimationFrame(()=>{var I;const y=(I=e.binderTabs)==null?void 0:I.querySelector(`.binder-tabs__tab[data-goal-id="${L}"]`);y==null||y.focus()})}}),e.binderTabs.appendChild(r)}))}async function Ie(t){t.preventDefault();const r=e.goalTitle.value.trim(),o=e.goalDescription.value.trim(),n=Z(e.goalForm,"color",V),s=e.goalFile.files&&e.goalFile.files.length?e.goalFile.files[0]:null;if(!r){alert("Titel er påkrævet.");return}let i=null;if(s){if(s.size>4*1024*1024&&!confirm("Filen er større end 4 MB. Fortsæt?"))return;try{i=await te(s)}catch(a){console.error("Fejl ved læsning af fil",a),alert("Kunne ikke læse filen. Prøv igen.");return}}await Pe({title:r,description:o,pdf:i,color:n,progress:0}),e.goalForm.reset(),ee(e.goalForm,"color",n),e.goalFile.value="";const l=document.getElementById("goal-form-container");l&&l.removeAttribute("open")}function _e(t){const r=d.find(i=>i.id===t);if(!r||!e.goalEditor)return;_=t,p.title.value=r.title,p.description.value=r.description||"",ee(w,"edit-color",r.color||V);const o=r.progress!==void 0?r.progress:0,n=e.goalEditor.querySelector(".progress-slider"),s=e.goalEditor.querySelector(".progress-percentage-edit");n&&(n.value=o,x(n,o),n.oninput=function(i){const l=parseInt(i.target.value);s.textContent=`${l}%`,x(n,l)}),s&&(s.textContent=`${o}%`),p.file.value="",typeof e.goalEditor.showModal=="function"?e.goalEditor.showModal():e.goalEditor.setAttribute("open","true")}function q(){_=null,e.goalEditor&&(typeof e.goalEditor.close=="function"?e.goalEditor.close():e.goalEditor.removeAttribute("open"))}async function Ae(t){if(t.preventDefault(),!_)return;const r=p.title.value.trim(),o=p.description.value.trim(),n=Z(w,"edit-color",V),s=p.file&&p.file.files&&p.file.files.length?p.file.files[0]:null;let i=null;if(!r){alert("Titel er påkrævet.");return}if(s){if(s.size>4*1024*1024&&!confirm("Filen er større end 4 MB. Fortsæt?"))return;try{i=await te(s)}catch(h){console.error("Fejl ved læsning af fil",h),alert("Kunne ikke læse filen. Prøv igen.");return}}const l=e.goalEditor.querySelector(".progress-slider"),a=l?parseInt(l.value):0,f={title:r,description:o,color:n,progress:a};i&&(f.pdf=i),await A(_,f),q()}function v(t){e.changePasswordError.textContent=t,e.changePasswordError.style.background="rgba(239, 83, 80, 0.15)",e.changePasswordError.style.borderColor="rgba(239, 83, 80, 0.4)",e.changePasswordError.style.color="#EF5350",e.changePasswordError.classList.add("is-visible")}function xe(){e.changePasswordError.classList.remove("is-visible")}function Fe(t){e.changePasswordError.textContent=t,e.changePasswordError.style.background="rgba(76, 175, 80, 0.15)",e.changePasswordError.style.borderColor="rgba(76, 175, 80, 0.4)",e.changePasswordError.style.color="#66BB6A",e.changePasswordError.classList.add("is-visible")}function Te(){e.supervisorModal&&(e.supervisorModal.showModal(),e.supervisorCode&&(e.supervisorCode.value="",e.supervisorCode.focus()),N())}function j(){e.supervisorModal&&(e.supervisorModal.close(),e.supervisorForm&&e.supervisorForm.reset(),N())}function C(t){e.supervisorError&&(e.supervisorError.textContent=t,e.supervisorError.classList.add("is-visible"))}function N(){e.supervisorError&&(e.supervisorError.textContent="",e.supervisorError.classList.remove("is-visible"))}async function De(t){var o;t.preventDefault(),N();const r=(o=e.supervisorCode)==null?void 0:o.value.trim();if(!r){C("Indtast venligst en vejlederkode");return}try{const{isValid:n}=await de(r);if(!n){C("Ugyldig vejlederkode");return}if(!E){const i=`supervisor_${Date.now()}@temp.local`,l=`temp_${Math.random().toString(36).slice(2)}`,{data:a,error:f}=await H(i,l);if(f){C("Der opstod en fejl ved oprettelse af session"),console.error("Supervisor signup error:",f);return}E=a.user}const{error:s}=await ce(E.id);if(s){C("Der opstod en fejl ved oprettelse af vejledersession"),console.error("Supervisor session error:",s);return}j(),window.location.href="/supervisor.html"}catch(n){console.error("Supervisor login error:",n),C("Der opstod en uventet fejl")}}function U(){e.changePasswordModal&&(typeof e.changePasswordModal.close=="function"?e.changePasswordModal.close():e.changePasswordModal.removeAttribute("open"))}async function Me(t){t.preventDefault(),xe();const r=e.currentPassword.value,o=e.newPassword.value,n=e.confirmNewPassword.value;if(!r||!o||!n){v("Alle felter er påkrævet");return}if(o!==n){v("De nye adgangskoder matcher ikke");return}if(o.length<6){v("Ny adgangskode skal være mindst 6 tegn");return}if(r===o){v("Ny adgangskode skal være forskellig fra den nuværende");return}e.changePasswordSubmit.disabled=!0,e.changePasswordSubmit.textContent="Skifter...";try{const{error:s}=await D(E.email,r);if(s){v("Nuværende adgangskode er forkert"),e.changePasswordSubmit.disabled=!1,e.changePasswordSubmit.textContent="Skift adgangskode";return}const{error:i}=await W(o);i?(v("Der opstod en fejl. Prøv igen."),console.error("Password update error:",i)):(Fe("Adgangskode opdateret!"),setTimeout(()=>{U()},1500))}catch(s){v("Der opstod en uventet fejl"),console.error("Password change error:",s)}finally{e.changePasswordSubmit.disabled=!1,e.changePasswordSubmit.textContent="Skift adgangskode"}}async function z(){if(new URLSearchParams(window.location.hash.substring(1)).get("type")==="recovery"&&(S=!0,M()),ae(be),S){O();return}const{user:o}=await ie();o?(E=o,R(),await X()):Q(),O()}function O(){e.authForm&&e.authForm.addEventListener("submit",we),e.authToggleBtn&&e.authToggleBtn.addEventListener("click",K),e.forgotPasswordBtn&&e.forgotPasswordBtn.addEventListener("click",ye),e.resetPasswordForm&&e.resetPasswordForm.addEventListener("submit",Ee),e.changePasswordClose&&e.changePasswordClose.addEventListener("click",t=>{t.preventDefault(),U()}),e.changePasswordForm&&e.changePasswordForm.addEventListener("submit",Me),e.changePasswordModal&&e.changePasswordModal.addEventListener("cancel",t=>{t.preventDefault(),U()}),e.logoutBtn&&e.logoutBtn.addEventListener("click",async t=>{t.preventDefault(),await he()}),e.goalForm&&e.goalForm.addEventListener("submit",Ie),p.close&&p.close.addEventListener("click",q),w&&w.addEventListener("submit",Ae),e.goalEditor&&e.goalEditor.addEventListener("cancel",t=>{t.preventDefault(),q()}),e.supervisorLoginBtn&&e.supervisorLoginBtn.addEventListener("click",Te),e.closeSupervisorModal&&e.closeSupervisorModal.addEventListener("click",j),e.supervisorForm&&e.supervisorForm.addEventListener("submit",De),e.supervisorModal&&e.supervisorModal.addEventListener("cancel",t=>{t.preventDefault(),j()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",z):z();
