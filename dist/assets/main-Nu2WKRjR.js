import{s as u}from"./supabase-hXCdEN8T.js";async function H(r,t){const{data:o,error:n}=await u.auth.signUp({email:r,password:t});return{data:o,error:n}}async function D(r,t){const{data:o,error:n}=await u.auth.signInWithPassword({email:r,password:t});return{data:o,error:n}}async function se(){const{error:r}=await u.auth.signOut();return{error:r}}async function ie(){const{data:{user:r},error:t}=await u.auth.getUser();return{user:r,error:t}}function ae(r){const{data:{subscription:t}}=u.auth.onAuthStateChange((o,n)=>{(async()=>await r(o,n))()});return t}async function le(r){const{data:t,error:o}=await u.auth.resetPasswordForEmail(r,{redirectTo:window.location.origin});return{data:t,error:o}}async function K(r){const{data:t,error:o}=await u.auth.updateUser({password:r});return{data:t,error:o}}async function de(r){const{data:t,error:o}=await u.from("supervisor_codes").select("*").eq("code",r).maybeSingle();return{isValid:!!t&&!o,error:o}}async function ce(r){const t=new Date;t.setHours(t.getHours()+8);const{data:o,error:n}=await u.from("supervisor_sessions").upsert({user_id:r,expires_at:t.toISOString()},{onConflict:"user_id"}).select().single();return{data:o,error:n}}async function ue(){const{data:r,error:t}=await u.from("goals").select("*").order("created_at",{ascending:!1});return t?(console.error("Error loading goals:",t),[]):r.map(o=>({id:o.id,title:o.title,description:o.description,progress:o.progress!==void 0?o.progress:0,reflection:o.reflection,pdf:o.pdf_data?{name:o.pdf_name,size:o.pdf_size,type:o.pdf_type,dataUrl:o.pdf_data}:null,color:o.color,createdAt:o.created_at,updatedAt:o.updated_at}))}async function fe(r){var i,l,a,f;const{data:{user:t}}=await u.auth.getUser();if(!t)throw new Error("User not authenticated");const o={user_id:t.id,title:r.title,description:r.description||"",progress:r.progress!==void 0?r.progress:0,reflection:"",pdf_name:((i=r.pdf)==null?void 0:i.name)||null,pdf_data:((l=r.pdf)==null?void 0:l.dataUrl)||null,pdf_size:((a=r.pdf)==null?void 0:a.size)||null,pdf_type:((f=r.pdf)==null?void 0:f.type)||null,color:r.color||"#66BB6A"},{data:n,error:s}=await u.from("goals").insert(o).select().single();if(s)throw console.error("Error creating goal:",s),s;return{id:n.id,title:n.title,description:n.description,progress:n.progress!==void 0?n.progress:0,reflection:n.reflection,pdf:n.pdf_data?{name:n.pdf_name,size:n.pdf_size,type:n.pdf_type,dataUrl:n.pdf_data}:null,color:n.color,createdAt:n.created_at,updatedAt:n.updated_at}}async function ge(r,t){const o={};t.title!==void 0&&(o.title=t.title),t.description!==void 0&&(o.description=t.description),t.progress!==void 0&&(o.progress=t.progress),t.reflection!==void 0&&(o.reflection=t.reflection),t.color!==void 0&&(o.color=t.color),t.pdf!==void 0&&(t.pdf===null?(o.pdf_name=null,o.pdf_data=null,o.pdf_size=null,o.pdf_type=null):(o.pdf_name=t.pdf.name,o.pdf_data=t.pdf.dataUrl,o.pdf_size=t.pdf.size,o.pdf_type=t.pdf.type)),o.updated_at=new Date().toISOString();const{data:n,error:s}=await u.from("goals").update(o).eq("id",r).select().single();if(s)throw console.error("Error updating goal:",s),s;return{id:n.id,title:n.title,description:n.description,progress:n.progress!==void 0?n.progress:0,reflection:n.reflection,pdf:n.pdf_data?{name:n.pdf_name,size:n.pdf_size,type:n.pdf_type,dataUrl:n.pdf_data}:null,color:n.color,createdAt:n.created_at,updatedAt:n.updated_at}}async function pe(r){const{error:t}=await u.from("goals").delete().eq("id",r);if(t)throw console.error("Error deleting goal:",t),t}function me(r){return r<=25?"#EF5350":r<=75?"#FFCA28":"#4CAF50"}const V="#66BB6A";let d=[],_=null,c=null,E=null,B=!1,P=!1,$=null;const e={authView:document.getElementById("auth-view"),resetPasswordView:document.getElementById("reset-password-view"),appView:document.getElementById("app-view"),authForm:document.getElementById("auth-form"),authEmail:document.getElementById("auth-email"),authPassword:document.getElementById("auth-password"),authSubmit:document.getElementById("auth-submit"),authError:document.getElementById("auth-error"),authToggleBtn:document.getElementById("auth-toggle-btn"),authToggleText:document.getElementById("auth-toggle-text"),forgotPasswordBtn:document.getElementById("forgot-password-btn"),resetPasswordForm:document.getElementById("reset-password-form"),resetPassword:document.getElementById("reset-password"),resetPasswordConfirm:document.getElementById("reset-password-confirm"),resetSubmit:document.getElementById("reset-submit"),resetError:document.getElementById("reset-error"),logoutBtn:document.getElementById("logout-btn"),changePasswordModal:document.getElementById("change-password-modal"),changePasswordForm:document.getElementById("change-password-form"),changePasswordClose:document.getElementById("change-password-close"),currentPassword:document.getElementById("current-password"),newPassword:document.getElementById("new-password"),confirmNewPassword:document.getElementById("confirm-new-password"),changePasswordSubmit:document.getElementById("change-password-submit"),changePasswordError:document.getElementById("change-password-error"),goalForm:document.getElementById("goal-form"),goalTitle:document.getElementById("goal-title"),goalDescription:document.getElementById("goal-description"),goalFile:document.getElementById("goal-file"),goalList:document.getElementById("goal-list"),emptyState:document.querySelector(".empty-state"),goalTemplate:document.getElementById("goal-template"),goalEditor:document.getElementById("goal-editor"),binderTabs:document.getElementById("binder-tabs"),supervisorLoginBtn:document.getElementById("supervisor-login-btn"),supervisorModal:document.getElementById("supervisor-modal"),supervisorForm:document.getElementById("supervisor-form"),supervisorCode:document.getElementById("supervisor-code"),supervisorError:document.getElementById("supervisor-error"),closeSupervisorModal:document.getElementById("close-supervisor-modal")},w=e.goalEditor?e.goalEditor.querySelector("form"):null,p={title:w?w.querySelector('input[name="edit-title"]'):null,description:w?w.querySelector('textarea[name="edit-description"]'):null,file:w?w.querySelector('input[name="edit-file"]'):null,close:e.goalEditor?e.goalEditor.querySelector(".modal__close"):null};function m(r){e.authError.textContent=r,e.authError.classList.add("is-visible")}function G(){e.authError.classList.remove("is-visible")}function W(){B=!B,B?(e.authSubmit.textContent="Opret konto",e.authToggleText.textContent="Har du allerede en konto?",e.authToggleBtn.textContent="Log ind"):(e.authSubmit.textContent="Log ind",e.authToggleText.textContent="Har du ikke en konto?",e.authToggleBtn.textContent="Opret konto"),G()}async function we(r){r.preventDefault(),G();const t=e.authEmail.value.trim(),o=e.authPassword.value;if(!t||!o){m("Email og adgangskode er påkrævet");return}e.authSubmit.disabled=!0,e.authSubmit.textContent="Vent venligst...";try{if(B){const{error:n}=await H(t,o);n?n.message.includes("already registered")?m("Denne email er allerede registreret"):m(n.message||"Der opstod en fejl ved oprettelse af konto"):(Y("Konto oprettet! Logger ind..."),setTimeout(async()=>{const{error:s}=await D(t,o);s&&(m("Konto oprettet, men login fejlede. Prøv at logge ind manuelt."),W())},1e3))}else{const{error:n}=await D(t,o);n&&(n.message.includes("Invalid login credentials")?m("Forkert email eller adgangskode"):m(n.message||"Der opstod en fejl ved login"))}}catch(n){m("Der opstod en uventet fejl"),console.error("Auth error:",n)}finally{e.authSubmit.disabled=!1,e.authSubmit.textContent=B?"Opret konto":"Log ind"}}function Y(r){e.authError.textContent=r,e.authError.style.background="rgba(76, 175, 80, 0.15)",e.authError.style.borderColor="rgba(76, 175, 80, 0.4)",e.authError.style.color="#66BB6A",e.authError.classList.add("is-visible")}async function he(){const{error:r}=await se();r&&(alert("Der opstod en fejl ved logout"),console.error("Logout error:",r))}async function ye(){const r=e.authEmail.value.trim();if(!r){m("Indtast din email-adresse for at nulstille adgangskoden");return}e.forgotPasswordBtn.disabled=!0,e.forgotPasswordBtn.textContent="Sender...";try{const{error:t}=await le(r);t?(m("Der opstod en fejl. Prøv igen."),console.error("Password reset error:",t)):Y(`Nulstillingslink er sendt til ${r}`)}catch(t){m("Der opstod en uventet fejl"),console.error("Password reset error:",t)}finally{e.forgotPasswordBtn.disabled=!1,e.forgotPasswordBtn.textContent="Glemt adgangskode?"}}function k(r){e.resetError.textContent=r,e.resetError.classList.add("is-visible")}function J(){e.resetError.classList.remove("is-visible")}function ve(r){e.resetError.textContent=r,e.resetError.style.background="rgba(76, 175, 80, 0.15)",e.resetError.style.borderColor="rgba(76, 175, 80, 0.4)",e.resetError.style.color="#66BB6A",e.resetError.classList.add("is-visible")}function Q(){e.authView.style.display="flex",e.resetPasswordView.style.display="none",e.appView.style.display="none",e.authForm.reset(),G()}function M(){e.authView.style.display="none",e.resetPasswordView.style.display="flex",e.appView.style.display="none",e.resetPasswordForm.reset(),J()}function R(){e.authView.style.display="none",e.resetPasswordView.style.display="none",e.appView.style.display="block"}async function Ee(r){r.preventDefault(),J();const t=e.resetPassword.value,o=e.resetPasswordConfirm.value;if(!t||!o){k("Begge felter er påkrævet");return}if(t!==o){k("Adgangskoderne matcher ikke");return}if(t.length<6){k("Adgangskoden skal være mindst 6 tegn");return}e.resetSubmit.disabled=!0,e.resetSubmit.textContent="Opdaterer...";try{const{error:n}=await K(t);n?(k("Der opstod en fejl. Prøv igen."),console.error("Password update error:",n)):(ve("Adgangskode opdateret! Omdirigerer..."),P=!1,setTimeout(()=>{window.location.hash="",window.history.replaceState(null,"",window.location.pathname),R()},1500))}catch(n){k("Der opstod en uventet fejl"),console.error("Password update error:",n)}finally{e.resetSubmit.disabled=!1,e.resetSubmit.textContent="Opdater adgangskode"}}async function be(r,t){if(r==="PASSWORD_RECOVERY"){P=!0,M();return}if(t!=null&&t.user){if(P){M();return}E=t.user,window.location.hash&&window.history.replaceState(null,"",window.location.pathname),R(),await X()}else E=null,d=[],c=null,P=!1,Q()}async function X(){try{d=await ue(),b()}catch(r){console.error("Error loading goals:",r),alert("Der opstod en fejl ved indlæsning af dine mål")}}function Pe(r){if(typeof r!="string")return"#0d0d0d";let t=r.trim().replace("#","");if(t.length===3&&(t=t.split("").map(a=>a+a).join("")),t.length!==6||Number.isNaN(Number.parseInt(t,16)))return"#0d0d0d";const o=Number.parseInt(t.substring(0,2),16)/255,n=Number.parseInt(t.substring(2,4),16)/255,s=Number.parseInt(t.substring(4,6),16)/255,i=a=>a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);return .2126*i(o)+.7152*i(n)+.0722*i(s)>.55?"#0d0d0d":"#f9f9f9"}function Z(r,t,o){if(!r)return o;const n=r.querySelector(`input[name="${t}"]:checked`);return n?n.value:o}function ee(r,t,o){if(!r)return;const n=r.querySelectorAll(`input[name="${t}"]`);if(!n.length)return;let s=!1;n.forEach(i=>{const l=o?i.value.toLowerCase()===o.toLowerCase():!1;i.checked=l,l&&(s=!0)}),s||(n[0].checked=!0)}async function Se(r){try{const t=await fe(r);d=[t,...d],c=t.id,b()}catch(t){console.error("Error creating goal:",t),alert("Der opstod en fejl ved oprettelse af målet")}}async function A(r,t,o=!1){try{const n=await ge(r,t);d=d.map(s=>s.id===r?n:s),o||b()}catch(n){console.error("Error updating goal:",n),alert("Der opstod en fejl ved opdatering af målet")}}function ke(r,t){d=d.map(o=>o.id===r?{...o,reflection:t}:o),clearTimeout($),$=setTimeout(()=>{A(r,{reflection:t},!0)},500)}async function Ce(r){try{await pe(r),d=d.filter(t=>t.id!==r),r===c&&(c=d.length?d[0].id:null),b()}catch(t){console.error("Error deleting goal:",t),alert("Der opstod en fejl ved sletning af målet")}}function te(r){return new Promise((t,o)=>{const n=new FileReader;n.onload=()=>t({name:r.name,size:r.size,type:r.type,dataUrl:n.result}),n.onerror=()=>o(n.error),n.readAsDataURL(r)})}function x(r,t){const o=me(t);r.style.setProperty("--slider-fill-color",o),r.style.setProperty("--slider-fill-percent",`${t}%`);const n=r.parentElement.querySelector(".progress-percentage, .progress-percentage-edit");n&&(n.style.color=o)}function Be(r,t,o){o?(r.classList.remove("is-hidden"),r.querySelector(".goal-file__link").textContent=o.name,r.querySelector(".goal-file__link").href=o.dataUrl,t.classList.add("is-hidden")):(r.classList.add("is-hidden"),t.classList.remove("is-hidden"))}function b(){const r=e.goalList;if(r.querySelectorAll(".card--goal").forEach(g=>g.remove()),!d.length){e.emptyState&&(e.emptyState.textContent="Ingen mål endnu. Tilføj det første i formularen.",e.emptyState.style.display="block"),e.binderTabs&&(e.binderTabs.innerHTML="",e.binderTabs.classList.add("is-hidden")),c=null;return}(!c||!d.some(g=>g.id===c))&&(c=d[0].id),e.emptyState&&(e.emptyState.style.display="none"),Ie(),e.binderTabs&&e.binderTabs.classList.remove("is-hidden");const o=d.find(g=>g.id===c);if(!o)return;const n=e.goalTemplate.content.cloneNode(!0),s=n.querySelector(".card--goal"),i=s.querySelector(".goal-title"),l=s.querySelector(".goal-description"),a=s.querySelector(".progress-slider"),f=s.querySelector(".progress-percentage"),h=s.querySelector(".field--reflection textarea"),I=s.querySelector(".goal-file"),y=s.querySelector(".goal-file--missing"),L=s.querySelector(".remove-file-btn"),re=s.querySelector(".edit-goal"),oe=s.querySelector(".delete-goal"),ne=`goal-panel-${o.id}`;s.id=ne,s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",`goal-tab-${o.id}`),i.textContent=o.title,l.textContent=o.description||"Ingen beskrivelse angivet.",h.value=o.reflection!==void 0&&o.reflection!==null?o.reflection:"";const F=o.progress!==void 0?o.progress:0;a.value=F,f.textContent=`${F}%`,x(a,F),Be(I,y,o.pdf),a.addEventListener("input",g=>{const S=parseInt(g.target.value);f.textContent=`${S}%`,x(a,S),d=d.map(T=>T.id===o.id?{...T,progress:S}:T)}),a.addEventListener("change",g=>{const S=parseInt(g.target.value);A(o.id,{progress:S},!0)}),h.addEventListener("input",g=>{ke(o.id,g.target.value)}),L.addEventListener("click",()=>{!o.pdf||!confirm("Fjern den vedhæftede fil?")||A(o.id,{pdf:null})}),re.addEventListener("click",()=>_e(o.id)),oe.addEventListener("click",()=>{confirm(`Er du sikker på, at du vil slette "${o.title}"?`)&&Ce(o.id)}),r.appendChild(n)}function Ie(){e.binderTabs&&(e.binderTabs.innerHTML="",d.forEach(r=>{const t=document.createElement("button");t.type="button",t.className="binder-tabs__tab",t.dataset.goalId=r.id,t.setAttribute("role","tab"),t.setAttribute("aria-selected",r.id===c?"true":"false");const o=r.color||"#4caf50",n=Pe(o);t.style.setProperty("--tab-color",o),t.style.setProperty("--tab-text-color",n),t.id=`goal-tab-${r.id}`,t.setAttribute("aria-controls",`goal-panel-${r.id}`);const s=document.createElement("span");s.className="binder-tabs__label",s.textContent=r.title,t.appendChild(s),r.id===c?(t.classList.add("is-active"),t.setAttribute("tabindex","0")):t.setAttribute("tabindex","-1"),t.addEventListener("click",()=>{c=r.id,b()}),t.addEventListener("keydown",i=>{if(i.key==="Enter"||i.key===" "){i.preventDefault(),c=r.id,b();return}if(i.key==="ArrowRight"||i.key==="ArrowLeft"){i.preventDefault();const l=Array.from(e.binderTabs.querySelectorAll(".binder-tabs__tab")),a=l.findIndex(y=>y.dataset.goalId===r.id);if(a===-1)return;const f=i.key==="ArrowRight"?1:-1,h=(a+f+l.length)%l.length,I=l[h].dataset.goalId;c=I,b(),window.requestAnimationFrame(()=>{var L;const y=(L=e.binderTabs)==null?void 0:L.querySelector(`.binder-tabs__tab[data-goal-id="${I}"]`);y==null||y.focus()})}}),e.binderTabs.appendChild(t)}))}async function Le(r){r.preventDefault();const t=e.goalTitle.value.trim(),o=e.goalDescription.value.trim(),n=Z(e.goalForm,"color",V),s=e.goalFile.files&&e.goalFile.files.length?e.goalFile.files[0]:null;if(!t){alert("Titel er påkrævet.");return}let i=null;if(s){if(s.size>4*1024*1024&&!confirm("Filen er større end 4 MB. Fortsæt?"))return;try{i=await te(s)}catch(a){console.error("Fejl ved læsning af fil",a),alert("Kunne ikke læse filen. Prøv igen.");return}}await Se({title:t,description:o,pdf:i,color:n,progress:0}),e.goalForm.reset(),ee(e.goalForm,"color",n),e.goalFile.value="";const l=document.getElementById("goal-form-container");l&&l.removeAttribute("open")}function _e(r){const t=d.find(i=>i.id===r);if(!t||!e.goalEditor)return;_=r,p.title.value=t.title,p.description.value=t.description||"",ee(w,"edit-color",t.color||V);const o=t.progress!==void 0?t.progress:0,n=e.goalEditor.querySelector(".progress-slider"),s=e.goalEditor.querySelector(".progress-percentage-edit");n&&(n.value=o,x(n,o),n.oninput=function(i){const l=parseInt(i.target.value);s.textContent=`${l}%`,x(n,l)}),s&&(s.textContent=`${o}%`),p.file.value="",typeof e.goalEditor.showModal=="function"?e.goalEditor.showModal():e.goalEditor.setAttribute("open","true")}function q(){_=null,e.goalEditor&&(typeof e.goalEditor.close=="function"?e.goalEditor.close():e.goalEditor.removeAttribute("open"))}async function Ae(r){if(r.preventDefault(),!_)return;const t=p.title.value.trim(),o=p.description.value.trim(),n=Z(w,"edit-color",V),s=p.file&&p.file.files&&p.file.files.length?p.file.files[0]:null;let i=null;if(!t){alert("Titel er påkrævet.");return}if(s){if(s.size>4*1024*1024&&!confirm("Filen er større end 4 MB. Fortsæt?"))return;try{i=await te(s)}catch(h){console.error("Fejl ved læsning af fil",h),alert("Kunne ikke læse filen. Prøv igen.");return}}const l=e.goalEditor.querySelector(".progress-slider"),a=l?parseInt(l.value):0,f={title:t,description:o,color:n,progress:a};i&&(f.pdf=i),await A(_,f),q()}function v(r){e.changePasswordError.textContent=r,e.changePasswordError.style.background="rgba(239, 83, 80, 0.15)",e.changePasswordError.style.borderColor="rgba(239, 83, 80, 0.4)",e.changePasswordError.style.color="#EF5350",e.changePasswordError.classList.add("is-visible")}function xe(){e.changePasswordError.classList.remove("is-visible")}function Fe(r){e.changePasswordError.textContent=r,e.changePasswordError.style.background="rgba(76, 175, 80, 0.15)",e.changePasswordError.style.borderColor="rgba(76, 175, 80, 0.4)",e.changePasswordError.style.color="#66BB6A",e.changePasswordError.classList.add("is-visible")}function Te(){e.supervisorModal&&(e.supervisorModal.showModal(),e.supervisorCode&&(e.supervisorCode.value="",e.supervisorCode.focus()),N())}function j(){e.supervisorModal&&(e.supervisorModal.close(),e.supervisorForm&&e.supervisorForm.reset(),N())}function C(r){e.supervisorError&&(e.supervisorError.textContent=r,e.supervisorError.classList.add("is-visible"))}function N(){e.supervisorError&&(e.supervisorError.textContent="",e.supervisorError.classList.remove("is-visible"))}async function De(r){var o;r.preventDefault(),N();const t=(o=e.supervisorCode)==null?void 0:o.value.trim();if(!t){C("Indtast venligst en vejlederkode");return}try{const{isValid:n}=await de(t);if(!n){C("Ugyldig vejlederkode");return}if(!E){const i=`supervisor_${Date.now()}@temp.local`,l=`temp_${Math.random().toString(36).slice(2)}`,{data:a,error:f}=await H(i,l);if(f){C("Der opstod en fejl ved oprettelse af session"),console.error("Supervisor signup error:",f);return}E=a.user}const{error:s}=await ce(E.id);if(s){C("Der opstod en fejl ved oprettelse af vejledersession"),console.error("Supervisor session error:",s);return}j(),window.location.href="/supervisor.html"}catch(n){console.error("Supervisor login error:",n),C("Der opstod en uventet fejl")}}function U(){e.changePasswordModal&&(typeof e.changePasswordModal.close=="function"?e.changePasswordModal.close():e.changePasswordModal.removeAttribute("open"))}async function Me(r){r.preventDefault(),xe();const t=e.currentPassword.value,o=e.newPassword.value,n=e.confirmNewPassword.value;if(!t||!o||!n){v("Alle felter er påkrævet");return}if(o!==n){v("De nye adgangskoder matcher ikke");return}if(o.length<6){v("Ny adgangskode skal være mindst 6 tegn");return}if(t===o){v("Ny adgangskode skal være forskellig fra den nuværende");return}e.changePasswordSubmit.disabled=!0,e.changePasswordSubmit.textContent="Skifter...";try{const{error:s}=await D(E.email,t);if(s){v("Nuværende adgangskode er forkert"),e.changePasswordSubmit.disabled=!1,e.changePasswordSubmit.textContent="Skift adgangskode";return}const{error:i}=await K(o);i?(v("Der opstod en fejl. Prøv igen."),console.error("Password update error:",i)):(Fe("Adgangskode opdateret!"),setTimeout(()=>{U()},1500))}catch(s){v("Der opstod en uventet fejl"),console.error("Password change error:",s)}finally{e.changePasswordSubmit.disabled=!1,e.changePasswordSubmit.textContent="Skift adgangskode"}}async function z(){if(new URLSearchParams(window.location.hash.substring(1)).get("type")==="recovery"&&(P=!0,M()),ae(be),P){O();return}const{user:o}=await ie();o?(E=o,R(),await X()):Q(),O()}function O(){e.authForm&&e.authForm.addEventListener("submit",we),e.authToggleBtn&&e.authToggleBtn.addEventListener("click",W),e.forgotPasswordBtn&&e.forgotPasswordBtn.addEventListener("click",ye),e.resetPasswordForm&&e.resetPasswordForm.addEventListener("submit",Ee),e.changePasswordClose&&e.changePasswordClose.addEventListener("click",r=>{r.preventDefault(),U()}),e.changePasswordForm&&e.changePasswordForm.addEventListener("submit",Me),e.changePasswordModal&&e.changePasswordModal.addEventListener("cancel",r=>{r.preventDefault(),U()}),e.logoutBtn&&e.logoutBtn.addEventListener("click",async r=>{r.preventDefault(),await he()}),e.goalForm&&e.goalForm.addEventListener("submit",Le),p.close&&p.close.addEventListener("click",q),w&&w.addEventListener("submit",Ae),e.goalEditor&&e.goalEditor.addEventListener("cancel",r=>{r.preventDefault(),q()}),e.supervisorLoginBtn&&e.supervisorLoginBtn.addEventListener("click",Te),e.closeSupervisorModal&&e.closeSupervisorModal.addEventListener("click",j),e.supervisorForm&&e.supervisorForm.addEventListener("submit",De),e.supervisorModal&&e.supervisorModal.addEventListener("cancel",r=>{r.preventDefault(),j()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",z):z();
